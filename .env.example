# Copy this file to .env and adjust as needed.
# Backend/App ports
APP_SERVER_PORT=8080

# Database connection
# Database vendor selection
# - Default: PostgreSQL
# - SQLite single-file mode: set DB_VENDOR=sqlite.
#   If you use `make up-sqlite` / `make build-deploy-sqlite`, the Makefile mounts `./db` into the app container at `/db`.
#   In that case, set SQLITE_DB_PATH to a path inside the container (e.g. /db/cards.db).
#DB_VENDOR=sqlite
#SQLITE_DB_PATH=/db/cards.db

DB_URL=jdbc:postgresql://db:5432/cards
POSTGRES_USER=cards
POSTGRES_PASSWORD=cards
POSTGRES_DB=cards
POSTGRES_HOST=0.0.0.0

# Idle session timeout, after which the user must log in again (e.g. 30m, 1h, 2h, 3600s)
SESSION_TIMEOUT=30m

# HTTP connection timeouts
# Tomcat HTTP connection timeout (e.g. 20s, 30s, 1m)
CONNECTION_TIMEOUT=20s
# Spring MVC async request timeout (e.g. 30s, 1m, 2m)
ASYNC_REQUEST_TIMEOUT=30s

# Optional: use a local Sonatype Nexus to cache Maven dependencies during Docker builds
# Enable/disable use of Nexus when building the app image
USE_NEXUS_MAVEN=0
# Default Nexus 3 group path (maven-public). For a custom group, e.g. maven-group, set accordingly.
NEXUS_MAVEN_MIRROR_URL=http://host.docker.internal:8081/repository/maven-public

# Optional Nexus APT mirrors (for app/web Dockerfile builds)
#NEXUS_APT_MIRROR_ARCHIVE_UBUNTU_NOBLE_URL=http://localhost:8081/repository/archive.ubuntu.com-noble-apt-proxy/
#NEXUS_APT_MIRROR_SECURITY_UBUNTU_NOBLE_URL=http://localhost:8081/repository/security.ubuntu.com-noble-apt-proxy/
#NEXUS_APT_MIRROR_DEBIAN_BOOKWORM_URL=http://localhost:8081/repository/deb.debian.org-bookworm-apt-proxy/
#NEXUS_APT_MIRROR_SECURITY_DEBIAN_BOOKWORM_URL=http://localhost:8081/repository/deb.debian.org-bookworm-security-apt-proxy/

# For local development, you may need this
#JAVA_HOME=/opt/graalvm-jdk-21.0.8+12.1

# =========================
# AI provider configuration
# =========================
# NOTE: Spring AI requires a non-empty OpenAI API key value to start.
# - If using a hosted provider (e.g. OpenAI), replace this with a real API key.
# - If using a local OpenAI-compatible server (e.g. llama.cpp), any non-empty value works.
# Spring Boot will map SPRING_AI_OPENAI_API_KEY -> spring.ai.openai.api-key
SPRING_AI_OPENAI_API_KEY=local

# Optional override: point the OpenAI-compatible client at a local llama.cpp server.
# NOTE: This URL must be reachable *from inside the app container*.
# On Linux, host.docker.internal needs host-gateway mapping in `docker run`.
SPRING_AI_OPENAI_CHAT_BASE_URL=http://host.docker.internal:8087/v1

# Legacy/compat (optional): where llama-server is running on the host.
# Prefer SPRING_AI_OPENAI_CHAT_BASE_URL above.
LLAMACPP_URL=http://host.docker.internal:8087

# These settings are only needed if running your own llama.cpp server locally
LLAMA_MODEL_PATH=/path/to/model.gguf
LLAMACPP_PORT=8087